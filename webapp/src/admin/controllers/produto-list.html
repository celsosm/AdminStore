<div class="box box-primary">
   
    <div class="box-header with-border">
      <h3 class="box-title">Listagem de produtos</h3>
    </div>

  <div class="box-body" >
    <table id="lstProdutos" class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Valor Venda</th>
          <th>Valor Compra</th>
          <th>Data Validade</th>
          <th>Quantidade Estoque</th>
           <th>Ativo</th>
          <th>Editar</th>
          <th>Apagar</th>
        </tr>
      </thead>
      <tbody>
        <tr data-ng-repeat="a in vm.produtos track by $index">
          <td>{{a.nomeProduto}}</td>
          <td>{{a.valorDeVenda | currency:"R$ ":2}}</td>
          <td>{{a.valorDeCompra | currency:"R$ ":2}}</td>
          <td>{{a.dataValidate | date:'dd/MM/yyyy'}}</td>
          <td>{{a.quantidadeEstoque}}</td>
          <td>{{a.ativo}}</td>
          <td>
            <a data-ng-click="vm.editar(a._id)" data-toggle="tooltip" title="Editar">
             <i class="glyphicon glyphicon-pencil blue"></i>
            </a>
          </td>
          <td>
            <a data-ng-click="vm.setId(a._id)" data-toggle="modal" data-target="#myModal"  title="Apagar">
              <i class="glyphicon glyphicon-remove red"></i>
            </a>            
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- set up the modal to start hidden and fade in and out -->
<div id="myModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="box-header with-border header-box-confirm" >
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3>Confirmação</h3>
        </div>

        <div class="modal-body">
            <h4>Tem certeza que deseja inativar o registro ?</h4>
        </div>

        <div class="modal-footer" 
        style="background-color: #f5f5f5; border-top: 1px solid #ddd;">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Não</button>
            <button class="btn btn-primary btn-ok" data-dismiss="ok"   
            data-ng-click="vm.deletar()">Sim</button>
        </div>
    </div>
  </div>
</div>

<script type="text/javascript"> 
    $(function(){
        $('#myModal').on('click', '.btn-ok', function(e) {
        $('#myModal').modal('hide');
        $("div[class='modal-backdrop fade in']").hide();
      });
    });
</script>

  
